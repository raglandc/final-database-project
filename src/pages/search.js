import { useSession } from 'next-auth/react';

import Layout from '@/components/Layout'
import SideBar from '@/components/SideBar'
import MovieCard from '@/components/MovieCard';
import Head from 'next/head'
import prisma from '../../lib/prisma';

export default function Search({movies}) {
  const { data : session } = useSession();

  if (session) {
    return (
      <>
        <Head>
          <title>Create Next App</title>
          <meta name="description" content="Generated by create next app" />
          <meta name="viewport" content="width=device-width, initial-scale=1" />
          <link rel="icon" href="/favicon.ico" />
        </Head>
        <Layout>
          <main className='grid grid-cols-12 gap-4 min-h-screen'>
            <aside className='col-span-3 xl:col-span-2 h-full bg-teal-800'>
              <SideBar/>
            </aside>
            <section className='col-start-4 xl:col-start-3 col-end-13 mr-4'>
              <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                {/* {movies.map((movie) => {
                  return <MovieCard 
                          key={movie.MoviesID} 
                          title={movie.M_title}
                          overview={movie.M_overview}
                          rating={movie.m_voteAvg}
                          image={movie.Poster_Link}
                          />
                })} */}
              </div>
            </section>
          </main>
        </Layout>
      </>
    )
  }
  else 
  {
    return <p>No user signed in</p>
  }
}